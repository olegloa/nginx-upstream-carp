nginx_upstream_carp
-------

This module achieves partial CARP(Cache Array Routing Protocol) support in nginx upstream module. It chooses the backend server with a steady order. The same URL will always be forward to the backend with the same order when failure occurs. The score is calculated from server's weight and hash value of server name and URL. Detail informatin is in http://icp.ircache.net/carp.txt. This module do not support Array Membership Table. All the weight value are from the upstream server's weight.

INSTALLATION
    
1.This module needs libmath++. 
  
2.compile nginx with the following addition option:

  --add-module=/path/to/this/directory

EXAMPLE

upstream backend {
    server 192.168.0.100;
    server 192.168.0.101;
    server 192.168.0.102;
    server 192.168.0.103;

    carp;
}

DIRECTIVES

    carp

    syntax: carp
    default: none
    context: upstream
    description: Enable the nginx_upstream_carp module. 

Note: This is a third-party module. And you need careful test before using this module in your production environment.

Questions/patches may be directed to Weibin Yao, yaoweibin@gmail.com.
